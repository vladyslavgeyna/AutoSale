@model AutoSale.Domain.ViewModels.Account.RegisterViewModel

@{
    ViewData["Title"] = "Registration";
}

<main class="main main-register">
    <div class="container container-register">
        <h1  class="text-center mb-4">Registration</h1>
        <form asp-route-returnurl="@Model.ReturnUrl" asp-controller="Account" asp-action="Register" class="d-flex flex-column" method="post" enctype="multipart/form-data">
            @if (Model.ErrorMessages.Any())
            {
                foreach (var message in Model.ErrorMessages)
                {
                    <p class="text-danger">@message</p>
                }
            }
            
            <div class="form-floating">
                <input asp-for="Name" required type="text" class="form-control" placeholder="Name">
                <label asp-for="Name"></label>
                <span asp-validation-for="Name" class="text-danger error-form-validation"></span>
            </div>
            <div class="form-floating">
                <input required type="text" class="form-control" asp-for="Surname" placeholder="Surname">
                <label asp-for="Surname"></label>
                <span asp-validation-for="Surname" class="text-danger error-form-validation"></span>
            </div>
            <div class="form-floating">
                <input required type="text" asp-for="LastName" class="form-control" placeholder="Last name">
                <label asp-for="LastName"></label>
                <span asp-validation-for="LastName" class="text-danger error-form-validation"></span>
            </div>
            <div class="form-floating">
                <input required type="email" asp-for="Email" class="form-control" placeholder="Email">
                <label asp-for="Email"></label>
                <span asp-validation-for="Email" class="text-danger error-form-validation"></span>
            </div>
            <div class="form-floating">
                <input required type="password" asp-for="Password" class="form-control" placeholder="Password">
                <label asp-for="Password"></label>
                <span asp-validation-for="Password" class="text-danger error-form-validation"></span>
            </div>
            <div class="form-floating">
                <input required type="password" class="form-control" asp-for="ConfirmPassword" placeholder="Confirm password">
                <label asp-for="ConfirmPassword"></label>
                <span asp-validation-for="ConfirmPassword" class="text-danger error-form-validation"></span>
            </div>
            <div class="form-floating">
                <input required type="text" id="phone-number" class="form-control" asp-for="PhoneNumber" placeholder="Phone number">
                <label asp-for="PhoneNumber"></label>
                <span asp-validation-for="PhoneNumber" class="text-danger error-form-validation"></span>
            </div>
            <div class="input-group input-file">
                <label asp-for="Image"></label>
                <div>
                    <input asp-for="Image" accept="image/jpeg, image/png" type="file" class="form-control">
                </div>
                <span asp-validation-for="Image" class="text-danger error-form-validation"></span>
            </div>
            <button class="btn primary-color-bg primary-color-hover" type="submit">Register</button>
        </form>
        <div class="already-registered-block text-center">
            <p class="fw-bold h5">Already registered? <a asp-action="Login" asp-controller="Account" class="primary-color primary-color-hover" >Sign in</a></p>
        </div>
    </div>
</main>
@section Scripts {
    <script defer>
        const inputPhone = document.getElementById("phone-number");
        inputPhone.addEventListener("input", () => {
            inputPhone.value = inputPhone.value.replace(/[^\d]/g, '');
        });
    </script>
}
